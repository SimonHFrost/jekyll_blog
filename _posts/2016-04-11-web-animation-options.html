---
layout: post
title: Web Animation Options
tag:
- web-development
- css
- javascript
---

<p>I’ve been using web animations a lot recently, but haven’t managed to standardise how I use them in large projects. I feel it’s important to standardise the approaches and frameworks you use in a project in order to keep it maintainable and ease of comprehension high.</p><p>This is especially true with large projects maintained by multiple people where there may be many variants all achieving a similar outcome. Context switching can easily slow you down when you’re trying to focus on other aspects of your project like state management or business logic.</p><p>I’m a strong believer in ‘Separation of Concerns’ and feel like animations relate more to design than functionality, so I decided to evaluate moving all animation related Javascript to CSS in a project I’ve been working on. Here are some of the main ways of animating in web and some of the lessons I learned.</p><h4>Javascript Animations</h4><p>Here’s an example of how to use animations in Javascript with a popular animation library called <a href="http://ricostacruz.com/jquery.transit/">Transit</a>:</p><pre>// Show<br>$element.transition({ opacity: 1.0, 500ms });</pre><pre>// Hide<br>$element.transition({ opacity: 0, 500ms });</pre><h4>CSS3 Transitions</h4><p>And here’s how you can perform the equivalent animation with CSS3 transitions:</p><pre>.my-element {<br>  transition: opacity 500ms;<br>  opacity: 0;<br>}</pre><pre>.my-element.show {<br>  opacity: 1.0;<br>}</pre><pre>// Trigger the animation by adding the class with Javascript<br>$(&#39;.my-element&#39;).addClass(&#39;show&#39;);</pre><p>CSS3 Transitions are great because they embody the concept of progressive enhancement (they gracefully degrade if the transition is not recognised, ie. browser compatibility), but there are other setbacks. The biggest one being ‘how do I get an element to transition immediately after some other transition?’</p><p>Sequencing and instantiation is a major problem when using CSS3 transitions. There are hacky workarounds, but ultimately it’s hard to make an element transition when it’s instantiated (what does it transition from?), and also when chaining multiple animations.</p><h4>CSS3 Animations</h4><p>One solution is to use the alternative ‘animation’ property, which supports sequencing animations via keyframes:</p><pre>.my-element {<br>  opacity: 0.0;<br>  animation: fadeIn 500ms linear forwards;<br>}</pre><pre>@keyframes fadein {<br>  to {<br>    opacity: 1.0;<br>  }<br>}</pre><p>The important part here is the ‘forwards’ keyword which makes the element maintain the final state of the animation after it has finished.</p><p>The CSS3 animation property is great because the keyframing starts as soon as the element exists, solving the issue with animating on instantiation. It also solves the issue of sequencing animation, as keyframing supports multiple properties over time (not shown in the example above).</p><p>One setback is that they don’t support progressive enhancement — if the animation for some reason does not run correctly, then the element won’t end up in the expected state (I had this problem with flexbox width animations).</p><h4>Looking back at JavaScript animations</h4><p>I was at a conference last year where a speaker said ‘HTML is good for unary states (data), CSS is good for binary states (toggling), and JavaScript is good for multi states (interaction).’</p><p>Investigating CSS animations in depth definitely reinforced this for me, as it seems ideal for two simple states, but anything else is generally too complex.</p><p>Javascript animations are also arguably more expressive and easier to use, for example it’s common to have convenient access to common sequencing of animations like ‘shaking’ of an element. They are also improved constantly by the countless libraries and communities that make them more accessible and performant.</p><h4>Conclusion</h4><p>For now I’ve decided to use javascript animations with ‘Transit’, but I’m glad I spent some time investigating different options and becoming more confident in my decision.</p><p>I hope one day I can put animations in CSS where believe they belong. But at this point in time, I’ll reserve that for webpages with simple functionality such as static pages with little to transition.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=9867973d1b92" width="1" height="1" alt="">
